"use strict";function unwrapEvent(e){return e&&e.detail&&e.detail.promise?e.detail:e}var core=require("./core");module.exports=function(e){e=e||window;var n=core();return e.addEventListener("unhandledrejection",function(e){e=unwrapEvent(e),n.onUnhandledRejection(e.reason,e.promise)}),e.addEventListener("rejectionhandled",function(e){e=unwrapEvent(e),n.onRejectionHandled(e.promise)}),n.currentlyUnhandled};